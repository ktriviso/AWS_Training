/** Copyright 2019 Amazon.com Inc. or its affiliates. All Rights Reserved. **/
!function(a){if(!a.MunchkinTracker){var b=a.document,c=b.location,d=encodeURIComponent,e=[],f=function(a,b,c,d){try{var f=function(){try{c.apply(this,arguments)}catch(a){}};a.addEventListener?a.addEventListener(b,f,d||!1):a.attachEvent&&a.attachEvent("on"+b,f),e.push([a,b,f,d])}catch(a){}},g=function(a,b,c,d){try{a.removeEventListener?a.removeEventListener(b,c,d||!1):a.detachEvent&&a.detachEvent("on"+b,c)}catch(a){}},h=function(a){return void 0!==a&&null!==a},i=function(a,b){return a.className.match(RegExp("(\\s|^)"+b+"(\\s|$)"))},j=h(a.XMLHttpRequest)&&h((new a.XMLHttpRequest).withCredentials),k=function(a){var b,c=null;if(h(a))if(0===a.length)c="";else try{c=decodeURIComponent(a)}catch(d){if(-1!==(b=a.indexOf("?")))try{c=decodeURIComponent(a.substr(0,b))+a.substr(b)}catch(a){}h(c)||(c=String(a))}return c},l=function(a,b){var c,d,e,f={},g=h(b)?b:"=",i=a.split("&"),j=i.length;for(c=0;c<j;c+=1)d=i[c].split(g),h(d)&&1<d.length&&(e=d.shift(),d=d.join(g),f[k(e)]=k(d));return f},m=function(a){try{var c=b.createElement("a");return c.href=a,l(c.search.substr(1))}catch(a){return null}},n=function(a,b){var c=null,e=[];if(h(a))for(c in a)a.hasOwnProperty(c)&&"function"!=typeof a[c]&&e.push(d(c)+(h(b)?b:"=")+d(a[c]));return e.join("&")},o=function(a,b){var c=null;if(h(b)&&h(a))for(c in a)a.hasOwnProperty(c)&&h(b[c])&&(a[c]=b[c])},p=function(a){var c,e,f=b.cookie,g={id:null,token:null};if(a=d(a),g.store=function(c,d,e,f){var g=a+"="+n(this,":"),h=new Date;0<c&&(h.setTime(h.getTime()+864e5*c),g+="; expires="+h.toGMTString()),d&&(g+="; path="+d),e&&-1!==e.indexOf(".")&&(g+="; domain="+e),f&&(g+="; secure"),b.cookie=g},""!==f)for(f=f.split(";"),c=0;c<f.length;c+=1)if(e=f[c].replace(/^\s+|\s+$/g,""),0===e.indexOf(a+"=")){f=e.substring(a.length+1),c=l(f),h(c.id)&&h(c.token)?o(g,c):o(g,l(f,":"));break}return g},q={customName:null,notifyPrefix:null,wsInfo:null,altIds:[],visitorToken:null,cookieLifeDays:730,clickTime:350,cookieAnon:!0,mkt_tok:null,domainLevel:null,replayDetectLimit:5e3,httpsOnly:!1,asyncOnly:!1},r=null,s=null,t=a.navigator.cookieEnabled||b.hasOwnProperty("cookie")&&(0<b.cookie.length||-1<(b.cookie="testcookie=test; max-age=10000").indexOf.call(b.cookie,"testcookie=test;")),u=!1,v=[],w=null,x=function(b,c,d){var e=new a.XMLHttpRequest;if(e.open("GET",b,!0!==c),e.onreadystatechange=function(){2<=e.readyState&&e.abort()},c)try{e.timeout=d}catch(a){}try{e.send()}catch(a){}},y=function(b,c,d,e,f){b=b+c+"&"+n(d)+"&"+n(e),d=(new Date).getTime(),f=!f&&!q.asyncOnly,0===c.indexOf("webevents/visitWebPage?")&&(f=!1),j?x(b,f,q.clickTime):new a.Image(1,1).src=b,w=d+q.clickTime},z=function(){var a;return function(b,c){var d={x:b.clientX,y:b.clientY,el:c,time:(new Date).getTime()};return!!(h(a)&&d.x===a.x&&d.y===a.y&&d.el===a.el&&d.time<a.time+q.replayDetectLimit)||(a=d,!1)}}(),A=function(){var a=b.getElementsByName("_mkt_trk"),c=0,d="";for(h(s)&&(d="id:"+s.id+"&token:"+s.token),c=0;c<a.length;c+=1)"hidden"===a[c].type&&(a[c].value=d)},B=function(a,b,d,e){var f,g=null;f=c.hostname;var i=c.protocol,j="webevents/"+a;if(u){if(h(s)&&(b._mchId=s.id,b._mchTk=s.token,h(q.mkt_tok)&&(b.mkt_tok=q.mkt_tok),h(q.wsInfo)&&(b._mchWs=q.wsInfo),"clickLink"===a&&(b._mchCn=h(q.customName)?q.customName:""),b._mchHo=f,b._mchPo=c.port,h(b._mchRu)||(b._mchRu=k(c.pathname)),b._mchPc=i,b._mchVr="151",h(f)&&0!==f.length&&"file:"!==i))for(g in j+="?_mchNc="+(new Date).getTime(),y(q.notifyPrefix,j,b,d,e),q.altIds)q.altIds.hasOwnProperty(g)&&(f=q.altIds[g],b._mchId=f,y(q.notifyPrefix.replace(/\w{3}\-\w{3}\-\w{3}\.mktoresp\.com/i,f+".mktoresp.com"),j,b,d,e))}else v.push(["post",arguments])},C=function(d){var e,f=d||a.event,g=f.target||f.srcElement,j={};e=f.which;var l=f.button;if((e=!((!h(e)||1!==e&&2!==e)&&(!h(l)||0!==l&&1!==l&&4!==l)))&&!f._mchDone){for(f._mchDone=!0,f=g,e=c.href||c,-1<e.indexOf("#")&&(e=e.substring(0,e.indexOf("#")));"A"!==f.tagName&&"AREA"!==f.tagName&&h(f.parentNode);)f=f.parentNode;f===b||f===a||"A"!==f.tagName&&"AREA"!==f.tagName?f=null:(g=f.href.replace(/^\s+|\s+$/g,""),f=h(g)&&0<g.length&&0!==g.indexOf("#")&&0!==g.indexOf(e+"#")&&0!==g.indexOf("javascript")&&0!==g.indexOf("mailto")&&!i(f,"mchNoDecorate")?f:null),h(f)&&!z(d,f)&&(j._mchHr=k(f.href),B("clickLink",j))}},D=function(a){if(u){if(null!==s)return s;var b;a:{b=c.hostname;var d=q.domainLevel,e=b.split("."),f=e.length,g=2;if(h(d))g=d;else if(2<e[f-1].length)g=2;else{if(2!==e[f-1].length)break a;g=3}for(;e.length>g&&2<e.length;)e.shift();b=e.join(".")}if(d=p("_mkto_trk"),e=!1!==q.httpsOnly,!(h(d.id)||q.cookieAnon||a))return null;if(d.id=r,h(d.token)||(h(q.visitorToken)&&"VISITOR_MKTTOK_REPLACE"!==q.visitorToken?d.token=q.visitorToken:d.token="_mch-"+b+"-"+(new Date).getTime()+"-"+(Math.floor(9e4*Math.random())+1e4)),d.store(q.cookieLifeDays,"/",b,e),e&&(d=p("_mkto_trk")),!e||h(d.id))return s=d,A(),d}else v.push(["createTrackingCookie",arguments])},E=function(){D(!0)},F=function(a){var b=a.onclick;a.onclick="function"==typeof b?function(){return E.apply(a,arguments),b.apply(a,arguments)}:E},G={ASSOCIATE_LEAD:"associateLead",CLICK_LINK:"clickLink",VISIT_WEB_PAGE:"visitWebPage",init:function(d,e){if(t&&h(d)&&0!==d.length){r=d;var f,g,j,l="";if(f=m(a.location.toString()),q.notifyPrefix=c.protocol+"//"+r+".mktoresp.com/",h(e)&&o(q,e),h(f)&&(h(f.mkt_tok)&&(q.mkt_tok=f.mkt_tok),h(f.lpview)&&(l=f.lpview)),!h(q.mkt_tok))if(f=m(b.referrer),h(f.mkt_tok))q.mkt_tok=f.mkt_tok;else if(h(f.enid)&&h(f.type))for(j in f)f.hasOwnProperty(j)&&"enid"!==j&&"type"!==j&&(-1<j.indexOf("mkt_tok")||-1<f[j].indexOf("mkt_tok"))&&(g=m(j+"="+f[j]),h(g.mkt_tok)&&(q.mkt_tok=g.mkt_tok));if(!("preview"===l&&/\/lpeditor\/preview$/.test(c.pathname)||u)){for(u=!0,l=D(h(q.mkt_tok)),f={},g={};0<v.length;)switch(j=v.shift(),j[0]){case"createTrackingCookie":l=D.apply(b,j[1]);break;case"post":B.apply(b,j[1])}if(h(l))f._mchCn=h(q.customName)?q.customName:"",g._mchHa=k(c.hash),g._mchRe=k(b.referrer),g._mchQp=k(c.search.substr(1).replace(/&/g,"__-__")),B("visitWebPage",f,g,!0);else if(!(q.cookieAnon||h(a.Mkto)&&h(a.Mkto.formSubmit))){l=[],j=b.forms,f=j.length;var n,p,s;for(g=0;g<f;g+=1)if(i(j[g],"lpeRegForm"))for(p=j[g].elements,s=p.length,n=0;n<s;n+=1)"submit"!==p[n].type||i(p[n],"mchNoDecorate")||l.push(p[n]);for(j=0;j<l.length;j+=1)F(l[j])}}}},munchkinFunction:function(a,b,d){var e={},f={},g=null;switch(h(d)&&(e._mchKy=d),a){case"associateLead":for(g in b)b.hasOwnProperty(g)&&(e["_mchAt"+g]=b[g]);D(!0),B("associateLead",e);break;case"clickLink":h(b.href)&&(e._mchHr=e._mchLr=k(b.href)),B("clickLink",e);break;case"visitWebPage":h(b.url)&&(e._mchRu=k(b.url)),h(b.params)&&(e._mchQp=k(b.params.replace(/&/g,"__-__"))),h(b.name)&&(e._mchCn=b.name),f._mchRe=k(c.href),B("visitWebPage",e,f)}},createTrackingCookie:function(a){D(a)}};Date.prototype.getTimeAlias=Date.prototype.getTime,f(a,"beforeunload",function(){for(var a;0<e.length;)a=e.shift(),g.apply(this,a);if(h(w))do{a=new Date}while(a.getTimeAlias()<w)}),f(b,"click",C,!0),function(c){var d=!1,e=!0,g=b.documentElement,h=function(e){"readystatechange"===e.type&&"complete"!==b.readyState||d||(d=!0,c.call(a,e.type||e))},i=null,i=function(){try{g.doScroll("left")}catch(b){return void a.setTimeout(i,50)}h("poll")};if("complete"===b.readyState)c.call(a,"lazy");else{if(b.createEventObject&&g.doScroll){try{e=!a.frameElement}catch(a){}e&&i()}f(b,"DOMContentLoaded",h),f(b,"readystatechange",h),f(a,"load",h)}}(function(){A();var a=0;if(h(b.links))for(a=0;a<b.links.length;a+=1)f(b.links[a],"click",C,!0)}),a.MunchkinTracker=a.Munchkin=G,a.mktoMunchkin=G.init,a.mktoMunchkinFunction=G.munchkinFunction}}(window);